客户端与服务器通讯方式：
1.一问一答，发送一条消息给服务器，服务器回应一条消息 （存在超时）
2.只发送消息给服务器，不接收
3.不发送消息，服务器主动通知
4.发送一条消息给服务器，服务器回应多条消息

网关（程序模块）：接收所有客户端发过来的包，转发给不同Session  （收到包后，解析sessionId，找到对应session转发；客户端第一个发送给服务器的包没有sessionId，服务器收到后创建一个sessionId，激活Session，当Session很久没收到消息后清除Session）

客户端网络数据来自连接
服务器网络数据来自网关

服务器网络管理器实现ISessionListener
客户端和服务器收到数据都需要反序列化，服务器通过Session将数据发送给客户端

服务器发送给客户端的请求应答和主动通知，不需要处理超时

定义protobuf协议，结构加上[ProtoContract]标记

RPC协议优势：客户端发送请求调用服务器方法，服务器响应后调用对应的客户端方法

轻量级服务器框架
：
单服多进程架构（多服架构不好部署，没有完善的工具支持，及丰进程富的后台开发经验很难驾驭）

服务器（一台主机）
服务（服务器程序或模块）
服务进程（服务器运行的进程）

进程1有登录服务和房间服务
进程2有战斗服务（帧同步）和匹配服务

进程间通讯通过IPC
进程间通讯方式还有共享内存,Linux管道，UDP

登录联调

在服务器保存一个【在线玩家列表】。当玩家登录时，便将其信息记录在列表中。当玩家离线时，将其信息从列表中删除。
需要为玩家分配一个唯一的ID。需要判断玩家的名字是否已经被其它玩家占用。
实现心跳逻辑，以判断玩家是否在线。


登录协议
 上行：LoginReq
    Id：用户Id，第1次登录时为0，由服务器分配。重登时，可以填写之前的Id
    Name：用户名，不能为空，且与其它玩家互斥，否则登录失败！
 下行：LoginRsp
    ReturnCode：统一的返回码。如果为0，则表示协议执行成功，否则失败。
    UserData：服务器返回的用户数据。

心跳协议
上行：HeartBeatReq
  ping：客户端当前的PING值，用于服务器评估客户端的网络情况，以后有可能会用到。
  timestamp：协议发送时的时间戳，用于计算自己的PING值
下行：HeartBeatRsp
  ReturnCode：统一的返回码。如果为0，则表示协议执行成功，否则失败。
  timestamp：服务器传过来的，上行包中发送时的时间戳，与当前时间相减计算PING值

服务端工具：
按下F1键显示网关所有收发消息
按下F2键显示在线玩家列表





